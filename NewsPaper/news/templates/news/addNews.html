<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add News</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.1.1/ekko-lightbox.min.css"/>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/styles/jqx.base.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <!--<script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/scripts/jquery-1.11.1.min.js"></script>-->
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/scripts/demos.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxscrollbar.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxlistbox.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxcombobox.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxpanel.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxcheckbox.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxdropdownlist.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxdropdownbutton.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxcolorpicker.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxwindow.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxeditor.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxcheckbox.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxdatetimeinput.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxcalendar.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/jqxtooltip.js"></script>
    <script type="text/javascript" src="http://www.jqwidgets.com/jquery-widgets-demo/jqwidgets/globalization/globalize.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.13/moment-timezone-with-data.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ekko-lightbox/5.1.1/ekko-lightbox.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-filestyle/1.2.1/bootstrap-filestyle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-filestyle/1.2.1/bootstrap-filestyle.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <style>
    #parent_div_1, #parent_div_2, #parent_div_3, parent_div_4{
            width:250px;
            height:30px;
            float:left;
        }
    .child_div_1{
        float:left;
        margin-right:5px;
    }

    .noLine {
        display: inline;
    }

    main {
        padding: 00px 0;
    }
    main::after {
        clear: both;
        display: block;
        content: "";
    }

    #header {
        background: #6897e7;
        line-height: 60px;
        color: #ffffff;
        text-align: center;
        font-size: 30px;
        font-weight: bold;
        font-family: Helvetica, Arial, Sans-Serif;
    }

    label {
        font-weight: normal !important;
    }

    body{padding-top:00px;}

    .table
    {
        display:table;
        border-spacing:0px;
    }
    .thead
    {
        display:table-header-group;
        color:black;
        font-weight:normal;
    }
    .tbody
    {
        display:table-row-group;
    }
    .tr
    {
        display:table-row;
    }
    .td
    {
        display:table-cell;
        border:0.02px solid grey;
        border-top: none;
        padding:5px;
    }
    .bordertd
    {
        display:table-cell;
        border:0.02px solid grey;
        padding:5px;
    }
</style>
    <script>
        /*$(document).ready(function () {
            $('#shortDescriptionEditor').jqxEditor({
                height: "200px",
                width: getWidth('editor')
            });
        });*/
        $(document).ready(function () {
            $('#longDescriptionEditor').jqxEditor({
                height: "300px",
                width: getWidth('editor')
            });
            var image = $('#articleImage').val();
            console.log(image, 'articleImage');
        });
    </script>
</head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1.0 minimum-scale=1.0" />
<body>
    <div id="main" class="main">
        <div id="header">
            {% load static %}
            <div>
                <p style="margin-left:15px; font-size: 18px; font-family: Helvetica, Arial, Sans-Serif;" align="left"><img align="left; middle" src='{% static "news/news_Logo.png" %}' alt="Image" width="42" height="42"><strong id="headerText">&nbsp; NewsPaper,</strong> Update News<i style="float:right;" class="fa fa-home"></i></p>
            </div>
        </div>
        <main>
            <div id="container" class="container-fluid col-md-10 col-xs-10 col-lg-10 col-sm-10 col-md-offset-1">
                <div class="col-md-12">
                     <form class="form-horizontal" method="post" action="/news/getNews/">
                         {% csrf_token %}
                         <div class="col-md-10 col-md-offset-1">
                             <div class="col-md-12">
                                 <label for="articleURL">Insert URL</label>
                                 <div class="input-group">
                                     <input type="text" class="form-control" name="articleURL" id="articleURL" placeholder="URL" value="{{requestURL}}">
                                     <span class="input-group-btn">
                                         <button class="btn btn-primary" type="submit">Fetch</button>
                                     </span>
                                 </div>
                             </div>
                         </div>
                     </form>
                     <br>
                     <br>
                    <form class="form-horizontal" id="edit_details" method="post" action="/news/updateNews/">
                        {% csrf_token %}
                        <input id="uid" type="hidden" value="{{ uid }}">
                        <input id="utoken" type="hidden" value="{{ utoken }}">
                        <input id="baseURL" type="hidden" value="{{ baseURL }}">
                        <input type="hidden" name="businessId" value="{{ businessId }}">

                        <div class="col-md-10 col-md-offset-1">
                         <br>
                            <div class="btn-group col-md-12">
                                <label for="getImageUrl">Select Image:</label>
                                <input type="file" name="getImageUrl" id="getImageUrl" class="filestyle"
                                       data-buttonText="Select a Image">
                                <br>
                            </div>
                            {% if OGData.image is not None %}
                                <div class="col-md-12">
                                    <img src="{% if OGData.image == None %}{{OGData.image.identifier}}{% elif OGData.image == None %}{{OGData.image}}{% else %}{{articleImage}}{% endif %}" id="articleImage" name="articleImage" width="800" height="400">
                                </div>
                            {% endif %}
                            <div class="col-md-12">
                            <br>
                                <label for="newsTitle">Title:</label>
                                <input type="text" name="newsTitle" class="form-control" id="newsTitle" placeholder="News Title" value="{% if OGData.title == None %}{{articleTitle}}{% else %}{{OGData.title}}{% endif %}">
                                <br>
                            </div>
                            <div class="col-md-12">
                                <label for="newsTitle">Short Description:</label>
                                <textarea name="shortDescriptionEditor" rows="2" class="form-control" id="shortDescriptionEditor" placeholder="Short Description" maxlength="140">{{OGData.description}}</textarea>
                                <br>
                            </div>
                            <div class="col-md-12">
                                <label for="longDescriptionEditor">Long Description:</label>
                                <textarea name="longDescriptionEditor" rows="8" class="form-control" id="longDescriptionEditor" placeholder="Long Description" style="resize: none">
                                    {% if articleHTML == None %}
                                        {{articleHTML}}
                                    {% else %}
                                        {{articleSummary}}
                                    {% endif %}
                                </textarea>
                                <br>
                            </div>
                            <div class="col-md-12">
                                <label for="referenceLink">Reference Link:</label>
                                <textarea name="referenceLink" rows="2" class="form-control" id="referenceLink" placeholder="Reference Link" style="resize: none">{{OGData.url}}</textarea>
                                <br>
                            </div>
                            <div class="col-md-12">
                                <label for="referenceSource">Reference Source:</label>
                                <textarea name="referenceSource" rows="2" class="form-control" id="referenceSource" placeholder="Reference Source" maxlength="140" style="resize: none">{{OGData.site_name}}</textarea>
                                <br>
                            </div>
                            <div class="col-md-12">
                                <label for="addNewsTags">Tags:</label>
                                <input type="text" name="addNewsTags" class="form-control" id="addNewsTags" placeholder="Add News Tags" value="{{articleKeywords}}">
                                <div style="margin-top: 5px;" name="searchTags" id='searchTags'></div>
                                <br>
                            </div>
                            {% load timetags %}
                            <div class="col-md-12">
                                <label for="publishedDate">Date:</label>
                                <input type="text" name="publishedDate" class="form-control" id="publishedDate" placeholder="Date" value="{{parsedDate}}">
                                <br>
                            </div>
                            <div class="col-md-12">
                                <input type="submit" value="Submit" class="form-control btn btn-success" style="width:80px">
                                <br>
                                <br>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>
</body>
</html>